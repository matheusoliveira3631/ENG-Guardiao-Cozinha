<%- include('../layout', { pageTitle: 'Editar Produto', activeMenu: 'produtos' }) %>
<h1 class="text-2xl font-semibold mb-4">Editar Produto</h1>

<% if (typeof erro !== 'undefined' && erro) { %>
  <div class="mb-4 rounded border border-red-200 bg-red-50 text-red-800 px-4 py-3"><%= erro %></div>
<% } %>

<form action="/produtos/<%= produto.id %>" method="POST" class="bg-white shadow rounded-lg p-6 space-y-4" onsubmit="return validarFormularioProduto();">
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1" for="nome">Nome</label>
    <input class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" type="text" id="nome" name="nome" value="<%= produto.nome %>" required />
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1" for="categoria">Categoria</label>
    <input class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" type="text" id="categoria" name="categoria" value="<%= produto.categoria %>" required />
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1" for="quantidade">Quantidade</label>
    <input class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" type="number" id="quantidade" name="quantidade" min="0" value="<%= produto.quantidade %>" required />
  </div>
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1" for="dataValidade">Data de Validade</label>
    <input class="w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" type="date" id="dataValidade" name="dataValidade" value="<%= produto.dataValidade %>" required />
  </div>
  <div class="flex items-center gap-2">
    <button type="submit" class="rounded bg-indigo-600 px-4 py-2 text-white font-medium hover:bg-indigo-700">Salvar</button>
    <a href="/produtos" class="rounded bg-gray-200 px-4 py-2 text-gray-700 hover:bg-gray-300">Cancelar</a>
  </div>
</form>
<%- include('../partials/end') %>